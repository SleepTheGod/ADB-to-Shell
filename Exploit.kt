/**
 * Made By Taylor Christian Newsome
 */
import java.io.BufferedReader
import java.io.InputStreamReader

/**
 * Connects to an Android device using ADB (Android Debug Bridge) and executes shell commands on the device.
 */
fun main() {
    val deviceIp = "192.168.1.10" // Replace with your device IP address
    val adbPath = "/path/to/adb" // Replace with the path to your ADB executable

    val connectCmd = "$adbPath connect $deviceIp"
    println("Running command: $connectCmd")
    executeCommand(connectCmd)

    val shellCmd = "$adbPath -s $deviceIp shell"
    println("Running command: $shellCmd")
    executeCommand(shellCmd)
}

/**
 * Executes the given command using ProcessBuilder and displays the output.
 *
 * @param cmd the command to execute
 */
fun executeCommand(cmd: String) {
    val process = ProcessBuilder(*cmd.split("\\s".toRegex()).toTypedArray())
        .redirectOutput(ProcessBuilder.Redirect.INHERIT)
        .redirectError(ProcessBuilder.Redirect.INHERIT)
        .start()
    process.waitFor()
}
